<%- include('../partials/head', { title: 'Business Owner Dashboard' }) %>
<%- include('../partials/navbar-bizowner') %>

<style>
  body {
    background: #f5ede2;
    color: #2d261f;
    font-family: 'Segoe UI', Arial, sans-serif;
  }

  .page-wrap { padding: 0 22px 40px; max-width:1200px; margin:0 auto; }

  .navbar { position: relative; }
  .hb-icons { position: relative; right: 16px; }

  .page-title {
    margin: 24px 6px 14px;
    font-size: 22px;
    font-weight: 600;
    color: #2d261f;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 14px;
    margin-bottom: 18px;
  }

  .stat-card {
    background:#fffbf6;
    border:1px solid #ead7b7;
    border-radius:14px;
    padding:16px;
    box-shadow:0 8px 18px rgba(0,0,0,0.06);
  }
  .stat-label { font-size:12px; color:#6c5f53; font-weight:500; }
  .stat-number { font-size:24px; font-weight:600; margin-top:4px; }

  .sections-grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap:14px;
  }

  .section-card {
    background:#fffbf6;
    border:1px solid #ead7b7;
    border-radius:14px;
    padding:16px;
    box-shadow:0 8px 18px rgba(0,0,0,0.06);
    position:relative;
  }
  .section-card h3 { margin:0 0 6px; font-size:15px; font-weight:600; }
  .section-card p { margin:0 0 12px; font-size:13px; color:#6c5f53; }
  .arrow { position:absolute; right:14px; top:12px; color:#9a8f85; font-size:16px; }

  .btn-gold {
    padding:9px 14px;
    background:#d59b2d;
    border:none;
    border-radius:10px;
    color:white;
    font-weight:600;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    gap:6px;
    font-size:13px;
  }
  .btn-gold:hover { background:#b97d18; }

  @media (max-width: 768px){
    .page-wrap{ padding:0 14px 32px; }
    .hb-icons{ right:8px; }
  }
</style>

<div class="page-wrap">

  <!-- Welcome -->
  <div class="page-title">
    Welcome back, <%= currentUser?.username || 'Business Owner' %>
  </div>

  <!-- Stats -->
  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-number"><%= totalProducts %></div>
      <div class="stat-label">Total Products</div>
    </div>

    <div class="stat-card">
      <div class="stat-number">$<%= Number(totalRevenue || 0).toFixed(2) %></div>
      <div class="stat-label">Total Revenue</div>
    </div>

    <div class="stat-card">
      <div class="stat-number"><%= totalStocks %></div>
      <div class="stat-label">Total Stocks</div>
    </div>

    <div class="stat-card">
      <div class="stat-number"><%= newMessages %></div>
      <div class="stat-label">New Messages</div>
    </div>
  </div>

  <!-- Sections -->
  <div class="section-container">
    <div class="section-card">
      <h3>Business Profile</h3>
      <div class="arrow">→</div>
      <p>Edit your business information and image</p>
      <a href="/bizowner/profile" class="btn-gold">Edit Profile</a>
    </div>

    <div class="section-card">
      <h3>Customer Messages</h3>
      <div class="arrow">→</div>
      <p>Read and respond to customer inquiries</p>
      <a href="/bizowner/messages" class="btn-gold">View Messages</a>
    </div>
  </div>

  <div class="section-container" style="margin-top:22px;">
    <div class="section-card">
      <h3>Inventory Management</h3>
      <div class="arrow">→</div>
      <p>Add, edit and manage your product inventory</p>
      <a href="/bizowner/inventory" class="btn-gold">Manage Inventory</a>
    </div>
  </div>

</div>

<%- include('../partials/foot') %>
